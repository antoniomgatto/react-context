{"version":3,"sources":["store/index.js","reducers/todo/index.js","reducers/index.js","middlewares/log.js","middlewares/localStorage.js","actions/types.js","middlewares/index.js","store/initialState.js","actions/index.js","components/filter/index.js","components/filter/styles.js","components/add/index.js","components/header/index.js","components/list/index.js","components/state/index.js","index.js","components/app/index.js"],"names":["StateContext","createContext","StoreProvider","reducer","initialState","children","Provider","value","useReducer","useStore","useContext","handlers","initial","state","action","console","log","final","store","set","storeId","createReducer","payload","todos","todo","filter","t","id","map","hasOwnProperty","type","handler","localStorage","reduce","st","fn","applyMiddlewares","filterTodo","useStyles","makeStyles","spacing","shape","palette","transitions","search","position","borderRadius","backgroundColor","fade","common","white","marginLeft","searchIcon","width","height","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","padding","transition","create","dispatch","classes","className","InputBase","placeholder","onChange","e","target","root","input","props","Button","variant","onClick","uuid","name","done","disabled","body","margin","appBar","marginBottom","flexDirection","actions","add","AppBar","Typography","noWrap","Table","TableHead","TableRow","TableCell","style","TableBody","RegExp","test","key","Checkbox","checked","udpateTodo","IconButton","removeTodo","card","Card","elevation","CardHeader","title","subheader","showState","Collapse","in","timeout","unmountOnExit","CardContent","src","displayDataTypes","ReactDOM","render","merge","get","reducers","document","getElementById"],"mappings":"yMAEaA,EAAeC,0BAEfC,EAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,aAAcC,EAA1B,EAA0BA,SAA1B,OAC3B,kBAACL,EAAaM,SAAd,CACEC,MAAOC,qBAAWL,EAASC,GAC3BC,SAAUA,KAIDI,EAAW,kBAAMC,qBAAWV,I,wkBCXlC,I,ECIeW,ECJhBC,EAAU,SAACC,EAAOC,GAGtB,OAFAC,QAAQC,IAAIF,GACZC,QAAQC,IAAIH,GACLA,GAGHI,EAAQ,SAAAJ,GAGZ,OAFAE,QAAQC,IAAIH,GACZE,QAAQC,IAAI,uBACLH,G,iBCPM,WAAAA,GAEb,OADAK,IAAMC,IAAIN,EAAMO,QAASP,GAClBA,GFYMQ,GAAa,mBGhBJ,YJAL,SAACR,EAAD,OAAUS,EAAV,EAAUA,QAAV,YACdT,EADc,CAEjBU,MAAM,GAAD,mBAAMV,EAAMU,OAAZ,CAAmBD,EAAQE,YCcN,cGbD,eJEL,SAACX,EAAD,OAAUS,EAAV,EAAUA,QAAV,YACjBT,EADiB,CAEpBU,MAAOV,EAAMU,MAAME,QAAO,SAAAC,GAAC,OAAIA,EAAEC,KAAOL,EAAQE,KAAKG,WCS3B,cGfD,eJSL,SAACd,EAAD,OAAUS,EAAV,EAAUA,QAAV,YACjBT,EADiB,CAEpBU,MAAOV,EAAMU,MAAMK,KAAI,SAAAF,GAAC,OAAKA,EAAEC,KAAOL,EAAQE,KAAKG,GAAKL,EAAQE,KAAOE,UCI7C,cGdD,eJaL,SAACb,EAAD,eACjBA,EADiB,CAEpBY,OAFoB,EAAUH,QAEdG,YCDU,cGZF,cJgBD,SAACZ,EAAD,eACpBA,EADoB,CAEvBA,MAFuB,EAAUS,QAElBT,WClBKF,EAYM,EAZM,SAACE,EAAOC,GACxC,OAAKH,EAASkB,eAAef,EAAOgB,MIFvB,YAAiC,IAA9BjB,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,OAAQiB,EAAc,EAAdA,QAG/B,MAFc,CAACnB,EAASmB,EAASC,EAAcf,GAElCgB,QAAO,SAACC,EAAIC,GAAL,OAAYA,EAAGD,EAAIpB,KAASD,GJGzCuB,CAAiB,CACtBvB,QACAC,SACAiB,QAASpB,EAASG,EAAOgB,QANlBjB,IKNI,GACbA,OAAO,EACPY,OAAQ,GACRF,MAAO,GACPH,QAAS,O,yBCIEiB,EAAa,SAAAZ,GAAM,MAAK,CAAEK,KHNZ,cGMqCR,QAAS,CAAEG,Y,yCCErEa,EAAYC,aCRH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,MAAOC,EAAnB,EAAmBA,QAASC,EAA5B,EAA4BA,YAA5B,MAA+C,CAC5DC,OAAQ,CACNC,SAAU,WACVC,aAAcL,EAAMK,aACpBC,gBAAiBC,YAAKN,EAAQO,OAAOC,MAAO,KAC5C,UAAW,CACTH,gBAAiBC,YAAKN,EAAQO,OAAOC,MAAO,MAE9CC,WAAY,GAEdC,WAAY,CACVC,MAAOb,EAAQ,GACfc,OAAQ,OACRT,SAAU,WACVU,cAAe,OACfC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAElBC,UAAW,CACTC,MAAO,WAETC,WAAY,CACVC,QAAStB,EAAQ,EAAG,EAAG,EAAG,GAC1BuB,WAAYpB,EAAYqB,OAAO,cDdpB,aAAO,IAAD,EACYvD,IADZ,mBACVgB,EADU,KACVA,OAAUwC,EADA,KAEbC,EAAU5B,IAEhB,OACE,yBAAK6B,UAAWD,EAAQtB,QACtB,yBAAKuB,UAAWD,EAAQd,YACtB,kBAAC,IAAD,OAEF,kBAACgB,EAAA,EAAD,CACEC,YAAY,eACZC,SAAU,SAAAC,GAAC,OAAIN,EAAS5B,EAAWkC,EAAEC,OAAOjE,SAC5CA,MAAOkB,EACPyC,QAAS,CACPO,KAAMP,EAAQP,UACde,MAAOR,EAAQL,gB,yBElBV,WAAAc,GAAU,IAAD,EACSlE,IADT,mBACbgB,EADa,KACbA,OAAUwC,EADG,KAQtB,OACE,kBAACW,EAAA,EAAD,iBACMD,EADN,CAEEE,QAAQ,YACRC,QATY,WACdb,EHX4B,CAAEnC,KHFV,WGEgCR,QAAS,CAAEE,KGW9C,CAAEG,GAAIoD,MAAQC,KAAMvD,EAAQwD,MAAM,MACnDhB,EAAS5B,EAAW,MAQlB6C,UAAWzD,EACXpB,SAAS,U,gBCfTiC,EAAYC,aAAW,gBAAGC,EAAH,EAAGA,QAAH,MAAkB,CAC7C,UAAW,CACT2C,KAAM,CACJC,OAAQ,IAGZC,OAAQ,CACNvB,QAAStB,EAAQ,GACjB8C,aAAc9C,EAAQ,GACtB+C,cAAe,MACf7B,eAAgB,iBAElB8B,QAAS,CACPhC,QAAS,QAEXiC,IAAK,CACHtC,WAAYX,EAAQ,QAIT,aACb,IAAM0B,EAAU5B,IAChB,OACE,kBAACoD,EAAA,EAAD,CAAQ7C,SAAS,SAASsB,UAAWD,EAAQmB,QAC3C,kBAACM,EAAA,EAAD,CAAYd,QAAQ,KAAKe,QAAM,EAACvF,SAAS,eACzC,yBAAK8D,UAAWD,EAAQsB,SACtB,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAKrB,UAAWD,EAAQuB,S,wSCrBjB,iBAAO,IAAD,EACmBhF,IADnB,0BACVc,EADU,EACVA,MAAOE,EADG,EACHA,OAAUwC,EADP,KAGnB,OACE,kBAAC4B,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAW3F,SAAS,gBACpB,kBAAC2F,EAAA,EAAD,CAAW3F,SAAS,SACpB,kBAAC2F,EAAA,EAAD,CAAW3F,SAAS,SAAS4F,MAAO,CAAE5C,MAAO,QAGjD,kBAAC6C,EAAA,EAAD,KACG3E,EACEE,QAAO,SAAAC,GAAC,OAAIyE,OAAO1E,EAAQ,KAAK2E,KAAK1E,EAAEsD,SACvCpD,KAAI,SAAAJ,GAAI,OACP,kBAACuE,EAAA,EAAD,CAAUM,IAAK7E,EAAKG,IAClB,kBAACqE,EAAA,EAAD,CAAW3F,SAAUmB,EAAKwD,OAC1B,kBAACgB,EAAA,EAAD,KACE,kBAACM,EAAA,EAAD,CACEC,QAAS/E,EAAKyD,KACdX,SAAU,kBACRL,EL9BM,SAAAzC,GAAI,MAAK,CAAEM,KHLV,cGKmCR,QAAS,CAAEE,SK8B5CgF,C,yVAAW,IAAKhF,EAAN,CAAYyD,MAAOzD,EAAKyD,aAIjD,kBAACe,EAAA,EAAD,KACE,kBAACS,EAAA,EAAD,CACEpG,SAAU,kBAAC,IAAD,MACVyE,QAAS,kBAAMb,ELvCP,SAAAzC,GAAI,MAAK,CAAEM,KHDV,cGCmCR,QAAS,CAAEE,SKuC/BkF,CAAWlF,e,iGC7B/Cc,GAAYC,aAAW,kBAAkB,CAC7CoE,KAAM,CACJvB,QAAQ5C,EAFiB,EAAGA,SAEZ,QAIL,cAAO,IAAD,EACO/B,IADP,mBACZI,EADY,KACLoD,EADK,KAEbC,EAAU5B,KAEhB,OACE,kBAACsE,GAAA,EAAD,CAAMC,UAAW,EAAG1C,UAAWD,EAAQyC,MACrC,kBAACG,GAAA,EAAD,CACEC,MAAM,oBACNC,UAAU,kDACVlG,OACE,kBAAC2F,EAAA,EAAD,CACE3B,QAAS,kBAAMb,ENrBF,SAAApD,GAAK,MAAK,CAAEiB,KHNX,aGMmCR,QAAS,CAAET,UMqBpCoG,EAAWpG,EAAMA,SACzCR,SAAUQ,EAAMA,MAAQ,kBAAC,KAAD,MAAqB,kBAAC,KAAD,UAInD,kBAACqG,GAAA,EAAD,CAAUC,GAAItG,EAAMA,MAAOuG,QAAQ,OAAOC,eAAa,GACrD,kBAACC,GAAA,EAAD,KACE,kBAAC,KAAD,CAAWC,IAAK1G,EAAO2G,kBAAkB,QClCnDC,IAASC,OAAO,mBCSD,kBACb,kBAAC,EAAD,CAAetH,aAAcuH,IAAM9G,GZPlBA,EYO6BA,EZPpBK,IAAM0G,IAAI/G,EAAMO,WYOajB,QAAS0H,GAC9D,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,GAAD,OZVe,IAAAhH,IWHH,MAASiH,SAASC,eAAe,W","file":"static/js/main.a2163c3e.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\n\nexport const StateContext = createContext();\n\nexport const StoreProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider\n    value={useReducer(reducer, initialState)}\n    children={children}\n  />\n);\n\nexport const useStore = () => useContext(StateContext);\n","export const add = (state, { payload }) => ({\n  ...state,\n  todos: [...state.todos, payload.todo],\n});\n\nexport const remove = (state, { payload }) => ({\n  ...state,\n  todos: state.todos.filter(t => t.id !== payload.todo.id),\n});\n\nexport const update = (state, { payload }) => ({\n  ...state,\n  todos: state.todos.map(t => (t.id === payload.todo.id ? payload.todo : t)),\n});\n\nexport const filter = (state, { payload }) => ({\n  ...state,\n  filter: payload.filter\n});\n\nexport const showState = (state, { payload }) => ({\n  ...state,\n  state: payload.state\n});\n","import * as todo from './todo';\nimport * as types from 'actions/types';\nimport applyMiddlewares from 'middlewares';\n\nconst createReducer = handlers => (state, action) => {\n  if (!handlers.hasOwnProperty(action.type)) {\n    return state;\n  }\n\n  return applyMiddlewares({\n    state,\n    action,\n    handler: handlers[action.type],\n  });\n};\n\nexport default createReducer({\n  [types.ADD_TODO]: todo.add,\n  [types.REMOVE_TODO]: todo.remove,\n  [types.UPDATE_TODO]: todo.update,\n  [types.FILTER_TODO]: todo.filter,\n  [types.SHOW_STATE]: todo.showState,\n});\n","const initial = (state, action) => {\n  console.log(action);\n  console.log(state);\n  return state;\n};\n\nconst final = state => {\n  console.log(state);\n  console.log('-------------------');\n  return state;\n};\n\nexport { initial, final };\n","import store from 'store2';\n\nexport default state => {\n  store.set(state.storeId, state);\n  return state;\n};\n\nexport const get = state => store.get(state.storeId);\n","export const ADD_TODO = 'ADD_TODO'\nexport const UPDATE_TODO = 'UPDATE_TODO'\nexport const FILTER_TODO = 'FILTER_TODO'\nexport const REMOVE_TODO = 'REMOVE_TODO'\nexport const SHOW_STATE = 'SHOW_STATE'\n","import { initial, final } from './log';\nimport localStorage from './localStorage';\n\nexport default ({ state, action, handler }) => {\n  const chain = [initial, handler, localStorage, final];\n\n  return chain.reduce((st, fn) => fn(st, action), state);\n};\n","export default {\n  state: true,\n  filter: '',\n  todos: [],\n  storeId: 'app',\n};\n","import * as types from './types';\n\nexport const addTodo = todo => ({ type: types.ADD_TODO, payload: { todo } });\n\nexport const removeTodo = todo => ({ type: types.REMOVE_TODO, payload: { todo } });\n\nexport const udpateTodo = todo => ({ type: types.UPDATE_TODO, payload: { todo } });\n\nexport const filterTodo = filter => ({ type: types.FILTER_TODO, payload: { filter } });\n\nexport const showState = state => ({ type: types.SHOW_STATE, payload: { state } });\n","import React from 'react';\n\nimport { useStore } from 'store';\nimport { filterTodo } from 'actions';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport styles from './styles';\nconst useStyles = makeStyles(styles);\n\nexport default () => {\n  const [{ filter }, dispatch] = useStore();\n  const classes = useStyles();\n\n  return (\n    <div className={classes.search}>\n      <div className={classes.searchIcon}>\n        <SearchIcon />\n      </div>\n      <InputBase\n        placeholder='Searchâ€¦'\n        onChange={e => dispatch(filterTodo(e.target.value))}\n        value={filter}\n        classes={{\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        }}\n      />\n    </div>\n  );\n};\n","import { fade } from '@material-ui/core/styles';\n\nexport default ({ spacing, shape, palette, transitions }) => ({\n  search: {\n    position: 'relative',\n    borderRadius: shape.borderRadius,\n    backgroundColor: fade(palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n  },\n  searchIcon: {\n    width: spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: spacing(1, 1, 1, 7),\n    transition: transitions.create('width'),\n  },\n});\n","import React from 'react';\n\nimport { useStore } from 'store';\nimport { addTodo, filterTodo } from 'actions';\n\nimport uuid from 'uuid/v1';\n\nimport Button from '@material-ui/core/Button';\n\nexport default props => {\n  const [{ filter }, dispatch] = useStore();\n\n  const onClick = () => {\n    dispatch(addTodo({ id: uuid(), name: filter, done: false }));\n    dispatch(filterTodo(''));\n  };\n\n  return (\n    <Button\n      {...props}\n      variant='contained'\n      onClick={onClick}\n      disabled={!filter}\n      children='Add'\n    />\n  );\n};\n","import React from 'react';\nimport Filter from 'components/filter';\nimport Add from 'components/add';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  '@global': {\n    body: {\n      margin: 0,\n    },\n  },\n  appBar: {\n    padding: spacing(1),\n    marginBottom: spacing(2),\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  actions: {\n    display: 'flex',\n  },\n  add: {\n    marginLeft: spacing(1),\n  },\n}));\n\nexport default () => {\n  const classes = useStyles();\n  return (\n    <AppBar position='static' className={classes.appBar}>\n      <Typography variant='h6' noWrap children='Todo hooks' />\n      <div className={classes.actions}>\n        <Filter />\n        <Add className={classes.add} />\n      </div>\n    </AppBar>\n  );\n};\n","import React from 'react';\n\nimport { useStore } from 'store';\nimport { udpateTodo, removeTodo } from 'actions';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nexport default () => {\n  const [{ todos, filter }, dispatch] = useStore();\n\n  return (\n    <Table>\n      <TableHead>\n        <TableRow>\n          <TableCell children='Description' />\n          <TableCell children='Done' />\n          <TableCell children='Remove' style={{ width: 64 }} />\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {todos\n          .filter(t => RegExp(filter, 'i').test(t.name))\n          .map(todo => (\n            <TableRow key={todo.id}>\n              <TableCell children={todo.name} />\n              <TableCell>\n                <Checkbox\n                  checked={todo.done}\n                  onChange={() =>\n                    dispatch(udpateTodo({ ...todo, done: !todo.done }))\n                  }\n                />\n              </TableCell>\n              <TableCell>\n                <IconButton\n                  children={<DeleteIcon />}\n                  onClick={() => dispatch(removeTodo(todo))}\n                />\n              </TableCell>\n            </TableRow>\n          ))}\n      </TableBody>\n    </Table>\n  );\n};\n","import React from 'react';\nimport ReactJson from 'react-json-view';\nimport { useStore } from 'store';\nimport { showState } from 'actions';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles(({ spacing }) => ({\n  card: {\n    margin: spacing(1),\n  },\n}));\n\nexport default () => {\n  const [state, dispatch] = useStore();\n  const classes = useStyles();\n\n  return (\n    <Card elevation={0} className={classes.card}>\n      <CardHeader\n        title='Application state'\n        subheader='Application state using react hooks and context'\n        action={\n          <IconButton\n            onClick={() => dispatch(showState(!state.state))}\n            children={state.state ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n          />\n        }\n      />\n      <Collapse in={state.state} timeout='auto' unmountOnExit>\n        <CardContent>\n          <ReactJson src={state} displayDataTypes={false} />\n        </CardContent>\n      </Collapse>\n    </Card>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"components/app\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","import React from 'react';\n\nimport { StoreProvider } from 'store';\nimport reducers from 'reducers';\n\nimport state from 'store/initialState';\nimport { get } from 'middlewares/localStorage';\nimport merge from 'lodash.merge';\n\nimport Header from 'components/header';\nimport List from 'components/list';\nimport State from 'components/state';\n\nexport default () => (\n  <StoreProvider initialState={merge(state, get(state))} reducer={reducers}>\n    <Header />\n    <List />\n    <State />\n  </StoreProvider>\n);\n"],"sourceRoot":""}